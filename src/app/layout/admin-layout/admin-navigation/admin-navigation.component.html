<aside class="fixed inset-y-0 left-0 z-50 flex flex-col
        backdrop-blur-xl bg-white/90 dark:bg-slate-900/90
        border-r border-slate-200 dark:border-slate-800
        transition-all duration-300 ease-in-out
        lg:translate-x-0 -translate-x-full lg:translate-x-0"
	[ngClass]="[
        collapsed ? 'w-20' : 'w-64'
    ]"
	role="navigation"
	aria-label="Main Sidebar">

	<div
		class="h-16 flex items-center justify-between px-4 border-b border-slate-200 dark:border-slate-800">
		<div class="flex items-center gap-3 mx-auto lg:mx-0">
			<div class="rounded-xl bg-gradient-to-br from-indigo-600 via-blue-600 to-cyan-500
                    flex items-center justify-center shadow-lg shadow-indigo-500/30">
				<img src="assets/images/logos/logo.png" alt="WSIM Logo" class="h-11" />
			</div>
		</div>

		<button
			(click)="toggleCollapse.emit()"
			class="hidden lg:flex p-2 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-800 transition-all"
			aria-label="Toggle sidebar">
			<svg
				class="w-5 h-5 text-slate-500 transition-transform duration-300"
				[ngClass]="collapsed ? 'rotate-180' : ''"
				fill="none"
				stroke="currentColor"
				viewBox="0 0 24 24">
				<path
					stroke-linecap="round"
					stroke-linejoin="round"
					stroke-width="2"
					d="M15 19l-7-7 7-7" />
			</svg>
		</button>
	</div>

	<nav
		class="flex-1 overflow-y-auto px-3 py-4 space-y-6
            scrollbar-thin scrollbar-thumb-slate-300 dark:scrollbar-thumb-slate-700"
		tabindex="0">

		@for (section of navSections; track section.title) {
		<div>
			@if (!collapsed) {
			<p class="px-3 mb-2 text-xs font-semibold uppercase tracking-wider
                        text-slate-400 dark:text-slate-500">
				{{ section.title }}
			</p>
			}

			<div class="space-y-1">
				@for (item of section.items; track item.route) {
				<a
					[routerLink]="item.route"
					routerLinkActive="router-link-active"
					class="group relative flex items-center gap-3
                                px-3 py-2.5 rounded-xl
                                text-slate-600 dark:text-slate-300
                                hover:bg-slate-100 dark:hover:bg-slate-800
                                hover:text-slate-900 dark:hover:text-white
                                focus:outline-none focus:ring-2 focus:ring-indigo-500
                                transition-all duration-200"
					[ngClass]="collapsed ? 'justify-center px-2' : ''"
					tabindex="0"
					role="menuitem">

					<span
						class="absolute inset-0 rounded-xl bg-gradient-to-r
                                    from-indigo-600/20 to-cyan-500/20
                                    opacity-0 blur-lg
                                    group-[.router-link-active]:opacity-100">
					</span>

					<span
						class="absolute left-0 top-1/2 -translate-y-1/2
                                    w-1 h-6 rounded-r-full bg-gradient-to-b
                                    from-indigo-500 to-cyan-500
                                    opacity-0 group-[.router-link-active]:opacity-100">
					</span>

					<div
						class="relative w-5 h-5 flex items-center justify-center
                                    text-slate-500 group-hover:text-indigo-600
                                    dark:group-hover:text-indigo-400 transition-colors"
						[innerHTML]="item.icon">
					</div>

					@if (!collapsed) {
					<span class="relative text-sm font-medium truncate">
						{{ item.label }}
					</span>
					}

					@if (collapsed) {
					<span
						class="absolute left-full ml-3 px-3 py-1.5 rounded-lg
                                        bg-slate-900 text-white text-xs font-medium
                                        opacity-0 pointer-events-none
                                        group-hover:opacity-100 transition-all whitespace-nowrap">
						{{ item.label }}
					</span>
					}
				</a>
				}
			</div>
		</div>
		}
	</nav>

	<div class="p-4 border-t border-slate-200 dark:border-slate-800 flex items-center gap-3" tabindex="0" role="button" aria-label="User menu">
		<div class="avatar avatar-sm">
				{{ authService.currentUser()?.firstName?.charAt(0) }}{{
				authService.currentUser()?.lastName?.charAt(0) }}
			</div>

		@if (!collapsed) {
		<div class="flex-1 min-w-0">			
			<div class="hidden sm:block text-left">
				<p class="text-sm font-medium text-slate-900 dark:text-white">
					{{ authService.currentUser()?.firstName }} {{
					authService.currentUser()?.lastName }}
				</p>
				<p class="text-xs text-slate-500">{{ authService.currentUser()?.role }}</p>
			</div>
			
		</div>
		}
	</div>
</aside>
